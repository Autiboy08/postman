package me.srgantmoomoo.postman.client.module.modules.exploits;

import org.lwjgl.input.Keyboard;

import me.srgantmoomoo.postman.api.event.events.NetworkPacketEvent;
import me.srgantmoomoo.postman.client.Main;
import me.srgantmoomoo.postman.client.module.Category;
import me.srgantmoomoo.postman.client.module.Module;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.network.play.client.CPacketPlayer;

public class AntiHunger extends Module {
		
	public AntiHunger() {
		super ("antiHunger", "slows down ur hungerness", Keyboard.KEY_NONE, Category.EXPLOITS);
	}

	public void onEnable() {
		super.onEnable();
		Main.EVENT_BUS.subscribe(this);
	}
	
	public void onDisbale() {
		super.onDisable();
		Main.EVENT_BUS.unsubscribe(this);
	}
	
	 @EventHandler
	 private Listener<NetworkPacketEvent> PacketEvent = new Listener<>(event -> {
	     if (event.getPacket() instanceof CPacketPlayer && !mc.player.isElytraFlying()) {
	         final CPacketPlayer packet = (CPacketPlayer) event.getPacket();
	         if (mc.player.fallDistance > 0 || mc.playerController.isHittingBlock) {
	            packet.onGround = true;
	         }
	         else {
	        	 packet.onGround = false;
	         }
	     }
	 });
}